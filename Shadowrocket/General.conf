# Shadowrocket: ä¸ºè‡ªç”¨é…ç½®ï¼Œå¯èƒ½ä¸å¤ªé€‚åˆæ‰€æœ‰äººä½¿ç”¨ï¼Œç”±äºä¸å¤ªæ¸…æ¥šæ‰€æœ‰äººæµåª’ä½“æ­£åˆ™å°±æœªåˆ›å»ºç­–ç•¥ç»„ï¼Œå¯ä»¥è‡ªè¡Œæ·»åŠ 
#å›½å†…åˆ†æµä½¿ç”¨äº†asnï¼Œä¹Ÿå¯ä»¥é…åˆgeoipé£Ÿç”¨ https://github.com/Hackl0ç¾å›½/GeoIP2-CN/raw/release/Country.mmdb è‡ªè¡Œå¤åˆ¶é“¾æ¥æ·»åŠ  
[General]
always-real-ip = *.msftncsi.com,*.srv.nintendo.net,*.stun.playstation.net,xbox.*.microsoft.com,*.xboxlive.com,*.logon.battlenet.com.cn,*.logon.battle.net,stun.l.google.com
bypass-system = true
skip-proxy = localhost, *.local, passenger.t3go.cn, e.crashlytics.com, captive.apple.com, seed-sequoia.siri.apple.com, sequoia.apple.com, app.yinxiang.com, injections.adguard.org, local.adguard.org, cable.auth.com, *.id.ui.direct, www.baidu.com, yunbç¾å›½iness.ccb.com, wxh.wo.cn, gate.lagou.com, www.abchina.com.cn, mbank.psbc.com, ibfp.psbc.com, 10.0.0.0/8, 100.64.0.0/10, 127.0.0.1/32, 169.254.0.0/16, 172.16.0.0/12, 192.168.0.0/16, 192.168.122.1/32, 193.168.0.1/32, 224.0.0.0/4, 240.0.0.0/4, 255.255.255.255/32, ::1/128, fc00::/7, fd00::/8, fe80::/10, ff00::/8, 2001::/32, 2001:db8::/32, 2002::/16, ::ffff:0:0:0:0/1, ::ffff:128:0:0:0/1
tun-excluded-routes = 10.0.0.0/8, 100.64.0.0/10, 127.0.0.0/8, 169.254.0.0/16, 172.16.0.0/12, 192.0.0.0/24, 192.0.2.0/24, 192.88.99.0/24, 192.168.0.0/16, 198.51.100.0/24, 203.0.113.0/24, 224.0.0.0/4, 255.255.255.255/32, 239.255.255.250/32
dns-server = https://223.5.5.5/dns-query,223.5.5.5,119.29.29.29
ipv6 = false
prefer-ipv6 = false
dns-fallback-system = false
dns-direct-system = false
icmp-auto-reply = true
always-reject-url-rewrite = false
private-ip-answer = true
dns-direct-fallback-proxy = true
udp-policy-not-supported-behaviour = reject
[Proxy Group]

BiliBili = select,DIRECT,é¦™æ¸¯,å°æ¹¾,interval=600,timeout=5,select=0,url=http://cp.cloudflare.com/generate_204
TikTok = select,ç¾å›½,æ—¥æœ¬,interval=600,timeout=5,select=0,url=http://cp.cloudflare.com/generate_204
Steam = select,é¦™æ¸¯ï¼Œå°æ¹¾ï¼ŒéŸ©å›½ï¼Œæ–°åŠ å¡ï¼Œç¾å›½,æ—¥æœ¬,interval=600,timeout=5,select=0,url=http://cp.cloudflare.com/generate_204
Apple = select,DIRECT,é¦™æ¸¯,ç¾å›½,æ—¥æœ¬,interval=600,timeout=5,select=0,url=http://cp.cloudflare.com/generate_204
Instagram = select,é¦™æ¸¯ï¼Œå°æ¹¾ï¼ŒéŸ©å›½ï¼Œæ–°åŠ å¡ï¼Œç¾å›½,æ—¥æœ¬,interval=600,timeout=5,select=0,url=http://cp.cloudflare.com/generate_204
Google = select,é¦™æ¸¯ï¼Œå°æ¹¾ï¼ŒéŸ©å›½ï¼Œæ–°åŠ å¡ï¼Œç¾å›½,æ—¥æœ¬,interval=600,timeout=5,select=0,url=http://cp.cloudflare.com/generate_204
YouTube =select,ç¾å›½ï¼Œå°æ¹¾ï¼ŒéŸ©å›½ï¼Œæ–°åŠ å¡ï¼Œé¦™æ¸¯,æ—¥æœ¬,interval=600,timeout=5,select=0,url=http://cp.cloudflare.com/generate_204 
Twitter = select,é¦™æ¸¯ï¼Œå°æ¹¾ï¼ŒéŸ©å›½ï¼Œæ–°åŠ å¡ï¼Œç¾å›½,æ—¥æœ¬,interval=600,timeout=5,select=0,url=http://cp.cloudflare.com/generate_204
Telegram = select,é¦™æ¸¯ï¼Œå°æ¹¾ï¼ŒéŸ©å›½ï¼Œæ–°åŠ å¡ï¼Œç¾å›½,æ—¥æœ¬,interval=600,timeout=5,select=0,url=http://cp.cloudflare.com/generate_204
PayPal = select,é¦™æ¸¯ï¼Œå°æ¹¾ï¼ŒéŸ©å›½ï¼Œæ–°åŠ å¡ï¼Œç¾å›½,æ—¥æœ¬,interval=600,timeout=5,select=0,url=http://cp.cloudflare.com/generate_204
GitHub = select,é¦™æ¸¯ï¼Œå°æ¹¾ï¼ŒéŸ©å›½ï¼Œæ–°åŠ å¡ï¼Œç¾å›½,æ—¥æœ¬,interval=600,timeout=5,select=0,url=http://cp.cloudflare.com/generate_204
æ–°åŠ å¡ = url-test,url=http://cp.cloudflare.com/generate_204,interval=600,timeout=5,select=0,policy-regex-filter=(SG|ç‹®åŸ|æ–°åŠ å¡|Singapore|ğŸ‡¸ğŸ‡¬)
ç¾å›½ = url-test,url=http://cp.cloudflare.com/generate_204,interval=600,timeout=5,select=0,policy-regex-filter=(US|æ³¢ç‰¹å…°|è¾¾æ‹‰æ–¯|ä¿„å‹’å†ˆ|å‡¤å‡°åŸ|è´¹åˆ©è’™|ç¡…è°·|æ‹‰æ–¯ç»´åŠ æ–¯|æ´›æ‰çŸ¶|åœ£ä½•å¡|åœ£å…‹æ‹‰æ‹‰|è¥¿é›…å›¾|èŠåŠ å“¥|ç¾å›½|United|America|ğŸ‡ºğŸ‡¸)
éŸ©å›½ = url-test,url=http://cp.cloudflare.com/generate_204,interval=600,timeout=5,select=0,policy-regex-filter=(KR|Korea|KOR|é¦–å°”|éŸ©å›½|ğŸ‡°ğŸ‡·)
æ—¥æœ¬ = url-test,url=http://cp.cloudflare.com/generate_204,interval=600,timeout=5,select=0,policy-regex-filter=(JP|å·æ—¥|ä¸œäº¬|å¤§é˜ª|æ³‰æ—¥|åŸ¼ç‰|æ²ªæ—¥|æ·±æ—¥|æ—¥æœ¬|Japan|ğŸ‡¯ğŸ‡µ)
å°æ¹¾ = url-test,url=http://cp.cloudflare.com/generate_204,interval=600,timeout=5,select=0,policy-regex-filter=(TW|å°æ¹¾|Tai)
é¦™æ¸¯ = url-test,url=http://cp.cloudflare.com/generate_204,interval=600,timeout=5,select=0,policy-regex-filter=(HK|é¦™æ¸¯|Hong|ğŸ‡­ğŸ‡°)

[Rule]
RULE-SET, https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/WeChat/WeChat.list,DIRECT
RULE-SET, https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/DouYin/DouYin.list,DIRECT
RULE-SET, https://raw.githubusercontent.com/limbopro/Adblock4limbo/main/Adblock4limbo.list,REJECT
RULE-SET, https://raw.githubusercontent.com/Moli-X/Other/main/QuantumultX/ADblock.list,REJECT
RULE-SET, https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/TikTok/TikTok.list,TikTok
RULE-SET, https://raw.githubusercontent.com/General74110/QuantumultX/master/Rule/Bilibili.list,Bilibili
#éšè—ipåˆ†æµæ ¹æ®è‡ªå·±éœ€æ±‚æ¥ï¼Œéœ€è¦çš„å¯ä»¥åˆ æ‰æ³¨é‡Š
#RULE-SET,https://raw.githubusercontent.com/lwd-temp/anti-ip-attribution/main/generated/surge.list,PROXY

RULE-SET, https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Steam/Steam.list,Steam
RULE-SET, https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/TestFlight/TestFlight.list,Apple
RULE-SET, https://raw.githubusercontent.com/General74110/QuantumultX/master/Rule/App%20Store.list,Apple
RULE-SET, https://raw.githubusercontent.com/General74110/QuantumultX/master/Rule/Apple%20Mail.list,Apple
RULE-SET, https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Instagram/Instagram.list,Instagram
RULE-SET, https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/GoogleVoice/GoogleVoice.list,Google
RULE-SET, https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/YouTube/YouTube.list,YouTube
RULE-SET, https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Twitter/Twitter.list,Twitter
RULE-SET, https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Facebook/Facebook.list,Google
RULE-SET, https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Telegram/Telegram.list,Telegram
RULE-SET, https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Tumblr/Tumblr.list,Google
RULE-SET, https://raw.githubusercontent.com/General74110/QuantumultX/master/Rule/PayPal.list,PayPal
RULE-SET, https://palesmile.cf/https://raw.githubusercontent.com/General74110/QuantumultX/master/Rule/Github%20CDN.list,DIRECT
DOMAIN-SET, https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/GitHub/GitHub.list,/GitHub
RULE-SET, https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Apple/Apple.list,Apple
RULE-SET, https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Google/Google.list,Google
DOMAIN-SUFFIX,local,DIRECT
IP-CIDR,172.16.0.0/12,DIRECT
IP-CIDR,10.0.0.0/8,DIRECT
IP-CIDR,192.168.0.0/16,DIRECT
IP-CIDR,127.0.0.0/8,DIRECT
IP-CIDR,100.64.0.0/10,DIRECT
IP-CIDR,224.0.0.0/4,DIRECT
RULE-SET, https://raw.githubusercontent.com/VirgilClyne/GetSomeFries/main/ruleset/ASN.China.list,DIRECT
OR,((DEST-PORT,995), (DEST-PORT,993), (DEST-PORT,587), (DEST-PORT,465), (DEST-PORT,143), (DEST-PORT,110), (DEST-PORT,109), (DEST-PORT,25)),DIRECT
AND,((OR,((DOMAIN,time-ios.apple.com), (DOMAIN,time.apple.com), (DOMAIN-SUFFIX,pool.ntp.org))), (DEST-PORT,123)),DIRECT
GEOIP,CN,DIRECT
FINAL,PROXY

[Host]
localhost = 127.0.0.1
apple.com = server:223.5.5.5
*.apple.com = server:223.5.5.5
appsto.re = server:223.5.5.5
*.appsto.re = server:223.5.5.5
aaplimg.com = server:223.5.5.5
*.aaplimg.com = server:223.5.5.5
apple-dns.net = server:223.5.5.5
*.apple-dns.net = server:223.5.5.5
apple.co = server:223.5.5.5
*.apple.co = server:223.5.5.5
applestore.com = server:223.5.5.5
*.applestore.com = server:223.5.5.5
apple.com.cn = server:223.5.5.5
*.apple.com.cn = server:223.5.5.5
cdn-apple.com = server:223.5.5.5
*.cdn-apple.com = server:223.5.5.5
apple-cloudkit.com = server:223.5.5.5
*.apple-cloudkit.com = server:223.5.5.5
crashlytics.com = server:223.5.5.5
*.crashlytics.com = server:223.5.5.5
icloud.com = server:223.5.5.5
*.icloud.com = server:223.5.5.5
icloud.com.cn = server:223.5.5.5
*.icloud.com.cn = server:223.5.5.5
icloud-content.com = server:223.5.5.5
*.icloud-content.com = server:223.5.5.5
me.com = server:223.5.5.5
*.me.com = server:223.5.5.5
mzstatic.com = server:223.5.5.5
*.mzstatic.com = server:223.5.5.5
organicfruitapps.com = server:223.5.5.5
*.organicfruitapps.com = server:223.5.5.5
apple.com.akadns.net = server:223.5.5.5
*.apple.com.akadns.net = server:223.5.5.5
icloud.com.akadns.net = server:223.5.5.5
*.icloud.com.akadns.net = server:223.5.5.5
taobao.com = server:223.5.5.5
*.taobao.com = server:223.5.5.5
tmall.com = server:223.5.5.5
*.tmall.com = server:223.5.5.5
jd.com = server:119.29.29.29
*.jd.com = server:119.29.29.29
*.qq.com = server:119.29.29.29
*.tencent.com = server:119.29.29.29
*.alicdn.com = server:223.5.5.5
aliyun.com = server:223.5.5.5
*.aliyun.com = server:223.5.5.5
weixin.com = server:119.28.28.28
*.weixin.com = server:119.28.28.28
bilibili.com = server:119.29.29.29
*.bilibili.com = server:119.29.29.29
hdslb.com = server:119.29.29.29
163.com = server:119.29.29.29
*.163.com = server:119.29.29.29
126.com = server:119.29.29.29
*.126.com = server:119.29.29.29
*.126.net = server:119.29.29.29
*.127.net = server:119.29.29.29
*.netease.com = server:119.29.29.29
mi.com = server:119.29.29.29
*.mi.com = server:119.29.29.29
xiaomi.com = server:119.29.29.29
*.xiaomi.com = server:119.29.29.29

[URL Rewrite]

^https?:\/\/(www.)?(g|google)\.cn https://www.google.com 302
^https?:\/\/(ditu|maps).google\.cn https://maps.google.com 302
^https?:\/\/(www.)?taobao\.com\/ https://taobao.com/ 302
^https?:\/\/(www.)?jd\.com\/ https://www.jd.com/ 302
^https?:\/\/(www.)?mi\.com\/ https://www.mi.com/ 302
^https?:\/\/you\.163\.com\/ https://you.163.com/ 302
^https?:\/\/(www.)?suning\.com\/ https://suning.com/ 302
^https?:\/\/(www.)?yhd\.com\/ https://yhd.com/ 302
^https?:\/\/(www.)?firefox\.com\.cn\/(download\/)?$ https://www.mozilla.org/zh-CN/firefox/new/ 302
^https?:\/\/(www.)?ign\.xn--fiqs8s\/ http://cn.ign.com/ccpref/us 302
^https?:\/\/(www.)?abbyychina\.com\/ https://www.abbyy.cn/ 302
^https?:\/\/(www.)?anydeskchina.cn/ https://anydesk.com/zhs 302
^https?:\/\/(www.)?bartender\.cc\/ https://www.macbartender.com/ 302
^https?:\/\/(www.)?(betterzipcn|betterzip)\.(com|net)\/ https://macitbetter.com/ 302
^https?:\/\/(www.)?beyondcompare\.cc\/ https://www.scootersoftware.com/ 302
^https?:\/\/(www.)?bingdianhuanyuan\.cn\/ https://www.faronics.com/zh-hans/products/deep-freeze 302
^https?:\/\/(www.)?chemdraw\.com\.cn\/ https://www.perkinelmer.com.cn/ 302
^https?:\/\/(www.)?codesoftchina\.com\/ https://www.teklynx.com/ 302
^https?:\/\/(www.)?coreldrawchina\.com\/ https://www.coreldraw.com/cn/ 302
^https?:\/\/(www.)?crossoverchina\.com\/ https://www.codeweavers.com/ 302
^https?:\/\/(www.)?dongmansoft\.com\/ https://www.udongman.cn/ 302
^https?:\/\/(www.)?earmasterchina\.cn\/ https://www.earmaster.com/ 302
^https?:\/\/(www.)?easyrecoverychina\.com\/ https://www.ontrack.com/ 302
^https?:\/\/(www.)?ediuschina\.com\/ https://www.grassvalley.com/ 302
^https?:\/\/(www.)?flstudiochina\.com\/ https://www.image-line.com/ 302
^https?:\/\/(www.)?formysql\.com\/ https://www.navicat.com.cn/ 302
^https?:\/\/(www.)?guitarpro\.cc\/ https://www.guitar-pro.com/ 302
^https?:\/\/(www.)?huishenghuiying\.com\.cn\/ https://www.coreldraw.com/cn/ 302
^https?:\/\/hypersnap\.mairuan\.com\/ https://www.hyperionics.com/ 302
^https?:\/\/(www.)?iconworkshop\.cn\/ https://www.axialis.com/ 302
^https?:\/\/(www.)?idmchina\.net\/ https://www.internetdownloadmanager.com/ 302
^https?:\/\/(www.)?imindmap\.cc\/ https://www.ayoa.com/previously-imindmap/ 302
^https?:\/\/(www.)?jihehuaban\.com\.cn\/ https://www.chartwellyorke.com/sketchpad/x24795.html 302
^https?:\/\/hypersnap\.mairuan\.com\/ https://www.keyshot.com/ 302
^https?:\/\/(www.)?kingdeecn\.cn\/ http://www.kingdee.com/ 302
^https?:\/\/(www.)?logoshejishi\.com https://www.sothink.com/product/logo-design-software/ 302
^https?:\/\/logoshejishi\.mairuan\.com\/ https://www.sothink.com/product/logo-design-software/ 302
^https?:\/\/(www.)?luping\.net\.cn\/ https://www.techsmith.com/ 302
^https?:\/\/(www.)?mathtype\.cn\/ https://www.dessci.com/ 302
^https?:\/\/(www.)?mindmanager\.(cc|cn)\/ https://www.mindjet.com/cn/ 302
^https?:\/\/(www.)?mindmapper\.cc\/ https://www.mindmapper.com/ 302
^https?:\/\/(www.)?(mycleanmymac|xitongqingli)\.com\/ https://macpaw.com/ 302
^https?:\/\/(www.)?nicelabel\.cc\/ https://www.nicelabel.com/zh/ 302
^https?:\/\/(www.)?ntfsformac\.cc\/ https://www.tuxera.com/products/tuxera-ntfs-for-mac-cn/ 302
^https?:\/\/(www.)?ntfsformac\.cn\/ https://china.paragon-software.com/home-mac/ntfs-for-mac/ 302
^https?:\/\/(www.)?officesoftcn\.com\/ https://www.microsoft.com/zh-cn/microsoft-365 302
^https?:\/\/(www.)?overturechina\.com\/ https://sonicscores.com/ 302
^https?:\/\/(www.)?passwordrecovery\.cn\/ https://cn.elcomsoft.com/aopr.html 302
^https?:\/\/(www.)?pdfexpert\.cc\/ https://pdfexpert.com/zh 302
^https?:\/\/(www.)?photozoomchina\.com\/ https://www.benvista.com/ 302
^https?:\/\/(www.)?shankejingling\.com\/ https://www.sothink.com/product/flashdecompiler/ 302
^https?:\/\/cn\.ultraiso\.net\/ https://cn.ezbsystems.com/ultraiso/ 302
^https?:\/\/(www.)?vegaschina\.cn\/ https://www.vegascreativesoftware.com/ 302
^https?:\/\/(www.)?xshellcn\.com\/ https://www.netsarang.com/zh/xshell/ 302
^https?:\/\/(www.)?yuanchengxiezuo\.com\/ https://www.teamviewer.com/ 302
^https?:\/\/(www.)?zbrushcn\.com\/ https://pixologic.com/ 302
^https?:\/\/api\.abema\.io\/v\d\/ip\/check - reject
^http:\/\/(www.)?aicoin\.cn\/$ https://www.aicoin.com/ 302

[MITM]
enable = true
hostname = www.google.cn,www.firefox.com.cn

